<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Reservar Hotel - Chavarri Global Services</title>
  <style>
    * { box-sizing: border-box; }
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      background: #f4f4f4;
      padding-bottom: 60px;
    }
    header {
      background: #003366;
      color: white;
      padding: 20px;
      text-align: center;
    }
    nav {
      background: #0055cc;
      padding: 10px;
      text-align: center;
    }
    nav a {
      color: white;
      margin: 0 15px;
      text-decoration: none;
      font-weight: bold;
    }
    main {
      max-width: 900px;
      margin: 30px auto;
      background: white;
      padding: 30px;
      border-radius: 10px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }
    h2 {
      text-align: center;
      color: #003366;
    }
    form {
      display: flex;
      flex-direction: column;
      gap: 15px;
    }
    label {
      font-weight: bold;
    }
    input, select {
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 6px;
      font-size: 14px;
      width: 100%;
    }
    .telefono {
      display: flex;
      align-items: center;
    }
    .telefono span {
      padding: 10px;
      background: #eee;
      border: 1px solid #ccc;
      border-right: none;
      border-radius: 6px 0 0 6px;
    }
    .telefono input {
      border-radius: 0 6px 6px 0;
      border-left: none;
      flex: 1;
    }
    .fecha {
      display: flex;
      gap: 15px;
      flex-wrap: wrap;
    }
    .boton {
      margin-top: 20px;
      background-color: #0055cc;
      color: white;
      border: none;
      padding: 12px;
      border-radius: 6px;
      font-size: 16px;
      font-weight: bold;
      cursor: pointer;
    }
    footer {
      background-color: #003366;
      color: white;
      text-align: center;
      padding: 15px 0;
      position: fixed;
      bottom: 0;
      width: 100%;
    }
  </style>
</head>
<body>

<header>
  <h1>CHAVARRI GLOBAL SERVICES</h1>
</header>

<nav>
  <a href="index.html">Inicio</a>
  <a href="sobre.html">Sobre Nosotros</a>
  <a href="contacto.html">Contáctenos</a>
</nav>

<main>
  <h2>Reserva de Hoteles</h2>

  <form id="hotelForm">
    <label for="destino">Destino:</label>
    <select id="destino" required>
      <option value="">Seleccione un destino</option>
      <option value="varadero">Varadero</option>
      <option value="trinidad">Trinidad</option>
      <option value="cayo_guillermo">Cayo Guillermo</option>
      <option value="cayo_coco">Cayo Coco</option>
      <option value="cayo_santa_maria">Cayo Santa María</option>
    </select>

    <label for="entrada">Fecha de entrada:</label>
    <input type="date" id="entrada" required />

    <label for="salida">Fecha de salida (automática):</label>
    <input type="text" id="salida" readonly />

    <label for="hotel">Hotel disponible:</label>
    <select id="hotel" required>
      <option value="">Seleccione un hotel</option>
    </select>

    <label for="nombre">Nombre del cliente:</label>
    <input type="text" id="nombre" required pattern="[A-Za-zÁÉÍÓÚáéíóúÑñ ]+" title="Solo letras y espacios" />

    <label for="telefono">Teléfono:</label>
    <div class="telefono">
      <span>+1</span>
      <input type="tel" id="telefono" maxlength="10" pattern="[0-9]{10}" required title="Solo números (10 dígitos)" />
    </div>

    <label for="personas">Cantidad de personas:</label>
    <input type="number" id="personas" min="1" required />

    <label for="ninos">¿Cuántos niños?</label>
    <input type="number" id="ninos" min="0" value="0" required />

    <button type="submit" class="boton">Reservar por WhatsApp</button>
  </form>
</main>

<footer>
  <p>&copy; 2025 Chavarri GS. Todos los derechos reservados.</p>
</footer>

<script>
  const destinoSelect = document.getElementById("destino");
  const entrada = document.getElementById("entrada");
  const salida = document.getElementById("salida");
  const hotelSelect = document.getElementById("hotel");

  function actualizarSalida() {
    const fecha = new Date(entrada.value);
    if (!isNaN(fecha)) {
      fecha.setDate(fecha.getDate() + 3);
      salida.value = fecha.toISOString().split("T")[0];
      actualizarHoteles();
    }
  }

  entrada.addEventListener("change", actualizarSalida);
  destinoSelect.addEventListener("change", actualizarHoteles);

  function actualizarHoteles() {
    const destino = destinoSelect.value;
    const fecha = new Date(entrada.value);
    const mes = fecha.toISOString().slice(0, 7);

    const hotelesMock = {
      "varadero": ["Hotel Meliá Varadero", "Iberostar Varadero"],
      "trinidad": ["Memories Trinidad", "Costa Sur"],
      "cayo_guillermo": ["Gran Muthu Imperial", "Iberostar Selection"],
      "cayo_coco": ["Pullman Cayo Coco", "Sol Cayo Coco"],
      "cayo_santa_maria": ["Royalton Santa María", "Meliá Las Dunas"]
    };

    hotelSelect.innerHTML = "<option value=''>Seleccione un hotel</option>";
    if (hotelesMock[destino]) {
      hotelesMock[destino].forEach(hotel => {
        const option = document.createElement("option");
        option.value = hotel;
        option.textContent = hotel;
        hotelSelect.appendChild(option);
      });
    }
  }

  document.getElementById("nombre").addEventListener("input", function () {
    this.value = this.value.replace(/[^A-Za-zÁÉÍÓÚáéíóúÑñ ]/g, "");
  });

  document.getElementById("telefono").addEventListener("input", function () {
    this.value = this.value.replace(/[^0-9]/g, "");
  });

  document.getElementById("hotelForm").addEventListener("submit", function (e) {
    e.preventDefault();

    const destino = destinoSelect.options[destinoSelect.selectedIndex].text;
    const hotel = hotelSelect.value;
    const fechaEntrada = entrada.value;
    const fechaSalida = salida.value;
    const nombre = document.getElementById("nombre").value;
    const telefono = document.getElementById("telefono").value;
    const personas = document.getElementById("personas").value;
    const ninos = document.getElementById("ninos").value;

    const mensaje = `Hola, soy ${nombre}, teléfono +1${telefono}. Deseo reservar en ${destino}.\n` +
      `Hotel: ${hotel}\nEntrada: ${fechaEntrada}\nSalida: ${fechaSalida}\n` +
      `Personas: ${personas} (Niños: ${ninos})`;

    window.open(`https://wa.me/5353143050?text=${encodeURIComponent(mensaje)}`, "_blank");
  });
</script>

</body>
</html>
